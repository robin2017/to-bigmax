(self.webpackChunk_rax_materials_scaffolds_app_ts=self.webpackChunk_rax_materials_scaffolds_app_ts||[]).push([[343],{625:function(a,e,r){"use strict";r.r(e),r.d(e,{default:function(){return v}});var i=r(86),n=r(620),o=r(880),w=r(941),c=r(721),l=r.n(c);function k(a,s,e){var r,i;a-=playerX,s-=playerY,e-=playerZ,r=Math.atan2(a,e),i=Math.sqrt(a*a+e*e),a=Math.sin(r-yaw)*i,e=Math.cos(r-yaw)*i,r=Math.atan2(s,e),i=Math.sqrt(s*s+e*e),s=Math.sin(r-pitch)*i;var n=-1e3,t=(e=Math.cos(r-pitch)*i,2e3*(e-0)-0*(a-0));if(!t)return{x:0,y:0,d:-1};var p=(1*(a-0)- -1e3*(e-0))/t,o=2e3/t;return e||(e=1e-9),p>0&&p<1&&o>0&&o<1?{x:cx+(n+2e3*p)*scale,y:cy+s/e*scale,d:Math.sqrt(a*a+s*s+e*e)}:{x:cx+(n+2e3*p)*scale,y:cy+s/e*scale,d:-1}}function h(a,e,r){switch(t=5+parseInt(150*Math.random()),window.sparkV=1+2.5*Math.random(),window.type=parseInt(3*Math.random()),type){case 0:window.pic1=parseInt(10*Math.random());break;case 1:window.pic1=parseInt(10*Math.random());do{window.pic2=parseInt(10*Math.random())}while(pic2==pic1);break;case 2:window.pic1=parseInt(10*Math.random());do{window.pic2=parseInt(10*Math.random())}while(pic2==pic1);do{window.pic3=parseInt(10*Math.random())}while(pic3==pic1||pic3==pic2)}for(var i=1;i<t;++i){window.spark=new Object,spark.x=a,spark.y=e,spark.z=r,window.p1=2*pi*Math.random(),window.p2=pi*Math.random();var n=window.sparkV*(1+Math.random()/6);switch(spark.vx=Math.sin(p1)*Math.sin(p2)*n,spark.vz=Math.cos(p1)*Math.sin(p2)*n,spark.vy=Math.cos(p2)*n,type){case 0:spark.img=sparkPics[pic1];break;case 1:spark.img=sparkPics[parseInt(2*Math.random())?pic1:pic2];break;case 2:switch(parseInt(3*Math.random())){case 0:spark.img=sparkPics[pic1];break;case 1:spark.img=sparkPics[pic2];break;case 2:spark.img=sparkPics[pic3]}}spark.radius=25+50*Math.random(),spark.alpha=1,spark.trail=new Array,sparks.push(spark)}switch(parseInt(4*Math.random())){case 0:window.pow=new Audio(s+"pow1.ogg");break;case 1:window.pow=new Audio(s+"pow2.ogg");break;case 2:window.pow=new Audio(s+"pow3.ogg");break;case 3:window.pow=new Audio(s+"pow4.ogg")}d=Math.sqrt((a-playerX)*(a-playerX)+(e-playerY)*(e-playerY)+(r-playerZ)*(r-playerZ)),window.pow.volume=1.5/(1+d/10)}function m(){seedTimer<frames&&(seedTimer=frames+seedInterval*Math.random()*100,window.seed=new Object,seed.x=100*Math.random()-50,seed.y=25,seed.z=100*Math.random()-50,seed.vx=.1-.2*Math.random(),seed.vy=-1.5,seed.vz=.1-.2*Math.random(),seed.born=frames,seeds.push(seed));for(var a=0;a<seeds.length;++a)seeds[a].vy+=gravity,seeds[a].x+=seeds[a].vx,seeds[a].y+=seeds[a].vy,seeds[a].z+=seeds[a].vz,frames-seeds[a].born>seedLife&&(h(seeds[a].x,seeds[a].y,seeds[a].z),seeds.splice(a,1));for(var s=0;s<sparks.length;++s)sparks[s].alpha>0&&sparks[s].radius>5?(sparks[s].alpha-=.01,sparks[s].radius/=1.02,sparks[s].vy+=gravity,point=new Object,point.x=sparks[s].x,point.y=sparks[s].y,point.z=sparks[s].z,sparks[s].trail.length?(window.x=sparks[s].trail[sparks[s].trail.length-1].x,window.y=sparks[s].trail[sparks[s].trail.length-1].y,window.z=sparks[s].trail[sparks[s].trail.length-1].z,window.d=(point.x-x)*(point.x-x)+(point.y-y)*(point.y-y)+(point.z-z)*(point.z-z),d>9&&sparks[s].trail.push(point)):sparks[s].trail.push(point),sparks[s].trail.length>5&&sparks[s].trail.splice(0,1),sparks[s].x+=sparks[s].vx,sparks[s].y+=sparks[s].vy,sparks[s].z+=sparks[s].vz,sparks[s].vx/=1.075,sparks[s].vy/=1.075,sparks[s].vz/=1.075):sparks.splice(s,1);window.p=Math.atan2(playerX,playerZ),window.d=Math.sqrt(playerX*playerX+playerZ*playerZ),d+=Math.sin(frames/80)/1.25,window.t=Math.sin(frames/200)/40,window.playerX=Math.sin(p+t)*d,window.playerZ=Math.cos(p+t)*d,window.yaw=pi+p+t}function f(){window.frames>1e5&&(window.seedTimer=0,window.frames=0),window.frames++,function(){window.ctx.clearRect(0,0,2*cx,2*cy),window.ctx.fillStyle="#ff8";for(var a=-100;a<100;a+=3)for(var s=-100;s<100;s+=4){var e=a,r=s;if(window.point=k(e,25,r),-1!=window.point.d){var i=250/(1+point.d),n=Math.sqrt(e*e+r*r),t=.75-.75*Math.pow(n/100,6);t>0&&(window.ctx.globalAlpha=t,window.ctx.fillRect(window.point.x-i/2,window.point.y-i/2,i,i))}}ctx.globalAlpha=1;for(var p=0;p<window.seeds.length;++p)window.point=k(window.seeds[p].x,window.seeds[p].y,window.seeds[p].z),-1!=window.point.d&&(window.size=200/(1+window.point.d),window.ctx.fillRect(window.point.x-size/2,window.point.y-size/2,size,size));for(var o=new Object,w=0;w<sparks.length;++w)if(point=k(sparks[w].x,sparks[w].y,sparks[w].z),-1!=point.d){if(size=200*sparks[w].radius/(1+point.d),sparks[w].alpha<0&&(sparks[w].alpha=0),sparks[w].trail.length){switch(o.x=point.x,o.y=point.y,sparks[w].img){case sparkPics[0]:ctx.strokeStyle="#f84";break;case sparkPics[1]:ctx.strokeStyle="#84f";break;case sparkPics[2]:ctx.strokeStyle="#8ff";break;case sparkPics[3]:ctx.strokeStyle="#fff";break;case sparkPics[4]:ctx.strokeStyle="#4f8";break;case sparkPics[5]:ctx.strokeStyle="#f44";break;case sparkPics[6]:ctx.strokeStyle="#f84";break;case sparkPics[7]:ctx.strokeStyle="#84f";break;case sparkPics[8]:ctx.strokeStyle="#fff";break;case sparkPics[9]:ctx.strokeStyle="#44f"}for(var c=sparks[w].trail.length-1;c>=0;--c)window.point2=k(sparks[w].trail[c].x,sparks[w].trail[c].y,sparks[w].trail[c].z),-1!=point2.d&&(ctx.globalAlpha=c/sparks[w].trail.length*sparks[w].alpha/2,ctx.beginPath(),ctx.moveTo(o.x,o.y),ctx.lineWidth=1+10*sparks[w].radius/(sparks[w].trail.length-c)/(1+point2.d),ctx.lineTo(point2.x,point2.y),ctx.stroke(),o.x=point2.x,o.y=point2.y)}ctx.globalAlpha=sparks[w].alpha,ctx.drawImage(sparks[w].img,point.x-size/2,point.y-size/2,size,size)}}(),m(),requestAnimationFrame(f)}var g=function(){var a=(0,i.useRef)(null);return(0,i.useEffect)((function(){!function(){window.pi=Math.PI,window.ctx=canvas.getContext("2d"),canvas.width=canvas.clientWidth,canvas.height=canvas.clientHeight,window.cx=canvas.width/2,window.cy=canvas.height/2,window.playerZ=-25,window.playerX=window.playerY=window.playerVX=window.playerVY=window.playerVZ=window.pitch=window.yaw=window.pitchV=window.yawV=0,window.scale=600,window.seedTimer=0,window.seedInterval=5,window.seedLife=100,window.gravity=.02,window.seeds=new Array,window.sparkPics=new Array,window.s="https://cantelope.org/NYE/";for(var a=1;a<=10;++a)window.sparkPic=new Image,sparkPic.src=s+"spark"+a+".png",sparkPics.push(sparkPic);window.sparks=new Array,window.pow1=new Audio(s+"pow1.ogg"),window.pow2=new Audio(s+"pow2.ogg"),window.pow3=new Audio(s+"pow3.ogg"),window.pow4=new Audio(s+"pow4.ogg"),window.frames=0}(),f()}),[]),(0,i.createElement)(n.Z,{style:{height:"100%"}},(0,i.createElement)("canvas",{className:l().canvas1,id:"canvas"}),(0,i.createElement)("canvas",{className:l().canvas2}),(0,i.createElement)(o.t,{onSlideChange:function(a){return console.log(a)},ref:a,className:l().Swiper,autoplay:!0},[{content:"\u6587\u6848111",url:"https://hellorobin.oss-cn-shanghai.aliyuncs.com/baymax/1643524165611.jpeg"},{content:"\u6587\u68482",url:"https://hellorobin.oss-cn-shanghai.aliyuncs.com/baymax/1643524180189.jpeg",marginTop:"-100px"}].map((function(a,s){return(0,i.createElement)(o.o,{className:l().SwiperSlide,key:s},(0,i.createElement)(n.Z,{style:{}},"\u8fd9\u662f\u6807\u9898",(0,i.createElement)(n.Z,{className:l().ImageWrapper},(0,i.createElement)(w.Z,{source:{uri:a.url,width:"750rpx",marginTop:a.marginTop},className:l().Image}))))}))))};function v(){return(0,i.createElement)(n.Z,{id:"main-app"},(0,i.createElement)(g,null))}},721:function(a){a.exports={Swiper:"main--Swiper--3yVZ9Zf",SwiperSlide:"main--SwiperSlide--2ZMPzqN",ImageWrapper:"main--ImageWrapper--YKSolC3",Image:"main--Image--1T9QxVT",canvas1:"main--canvas1--3iSAEW7",canvas2:"main--canvas2--5BfjSv4"}}}]);